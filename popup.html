<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!DOCTYPE html>
    <html lang="en">

    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!DOCTYPE html>
        <html lang="en">

        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <!DOCTYPE html>
          <html lang="en">

          <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <!DOCTYPE html>
            <html lang="en">

            <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <!DOCTYPE html>
              <html lang="en">

              <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Lead Gen Extension</title>
                <link rel="stylesheet" href="popup.css">
              </head>

            <body>
              <div class="container">
                <header>
                  <h1>GMap WA Sender Pro</h1>
                  <p
                    style="font-size: 10px; font-weight: 300; margin-top: -10px; opacity: 0.8; text-align: center; color: #7f8c8d;">
                    Dev by Nik</p>
                  <div style="display: flex; gap: 10px; justify-content: center; margin-top: 8px;">
                    <a href="https://www.youtube.com/@NiksonYT?sub_confirmation=1" target="_blank"
                      class="btn danger btn-sm" style="text-decoration: none; font-size: 11px;">Subscribe YT</a>
                    <a href="https://www.facebook.com/Nikson2.0" target="_blank" class="btn primary btn-sm"
                      style="text-decoration: none; font-size: 11px;">Follow FB</a>
                  </div>
                </header>

                <div class="tabs">
                  <button class="tab-btn active" data-tab="scraper">Scraper</button>
                  <button class="tab-btn" data-tab="enrichment">Enrichment</button>
                  <button class="tab-btn" data-tab="templates">Templates</button>
                  <button class="tab-btn" data-tab="settings">Settings</button>
                </div>

                <!-- Scraper Tab -->
                <div id="scraper" class="tab-content active">
                  <div class="panel">
                    <h2>Google Maps Scraper</h2>
                    <div class="stats">
                      <p>Leads Collected: <span id="lead-count">0</span></p>
                    </div>
                    <div class="controls">
                      <button id="start-scrape" class="btn primary">Start Scraping</button>
                      <button id="stop-scrape" class="btn danger" disabled>Stop</button>
                      <button id="download-csv" class="btn success" disabled>Download CSV</button>
                    </div>
                    <div id="status-msg" class="status">Ready to scrape...</div>
                  </div>
                </div>

                <!-- Enrichment Tab -->
                <div id="enrichment" class="tab-content">
                  <div class="panel">
                    <h2>Data Enrichment</h2>
                    <p class="hint">Upload a CSV with a <strong>Name</strong> column to find details.</p>

                    <input type="file" id="enrich-csv" accept=".csv">
                    <div id="enrich-status"></div>

                    <div class="controls">
                      <button id="start-enrich" class="btn primary" disabled>Start Enrichment</button>
                      <button id="stop-enrich" class="btn danger" disabled>Stop</button>
                      <button id="download-enrich-csv" class="btn success" disabled>Download Results</button>
                    </div>

                    <div class="stats">
                      <p>Processed: <span id="enrich-count">0</span> / <span id="enrich-total">0</span></p>
                    </div>
                  </div>
                </div>

                <!-- Templates Tab -->
                <div id="templates" class="tab-content">
                  <div class="panel">
                    <h2>Message Template</h2>
                    <textarea id="template-text" rows="4"
                      placeholder="Hi [BusinessName], saw your listing on Google Maps..."></textarea>
                    <button id="save-template" class="btn primary">Save Template</button>

                    <hr>

                    <h3>Manual Send</h3>
                    <input type="text" id="manual-phone" placeholder="Phone Number (with country code)">
                    <input type="text" id="manual-name" placeholder="Name (Optional)">
                    <button id="manual-send" class="btn success">Send WhatsApp</button>

                    <hr>

                    <h3>Bulk Send (CSV)</h3>
                    <input type="file" id="csv-file" accept=".csv">
                    <div id="import-status"></div>

                    <div class="auto-send-controls">
                      <label>Delay (s): <input type="number" id="send-delay" value="5" min="2"
                          style="width: 50px;"></label>
                      <button id="auto-send-btn" class="btn primary" disabled>Auto Send</button>
                      <button id="stop-send-btn" class="btn danger" disabled>Stop</button>
                      <button id="clear-list-btn" class="btn warning">Clear List</button>
                    </div>
                    <div id="send-status"></div>

                    <div id="imported-list" class="import-list"></div>
                  </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-content">
                  <div class="panel">
                    <h2>Settings</h2>
                    <div class="setting-item">
                      <label for="universal-mode">Enable Universal Send Button</label>
                      <input type="checkbox" id="universal-mode">
                    </div>
                    <div class="setting-item">
                      <label for="scrape-delay">Scrape Delay (seconds)</label>
                      <input type="number" id="scrape-delay" min="1" max="10" value="2">
                    </div>
                    <div class="setting-item">
                      <label for="country-code">Default Country Code (e.g. 1 or 880)</label>
                      <input type="text" id="country-code" placeholder="e.g. 1">
                    </div>
                    <div class="setting-item">
                      <label for="google-sheets-url">Google Sheets Webhook URL <small>(Optional)</small></label>
                      <input type="text" id="google-sheets-url" placeholder="https://script.google.com/macros/s/...">
                    </div>
                    <button id="save-settings" class="btn primary">Save Settings</button>
                  </div>
                </div>


              </div>
              <script src="popup.js"></script>
            </body>

            </html>